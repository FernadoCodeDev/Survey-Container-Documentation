# **Survey Container** 
![SurveyContainer](https://github.com/FernadoCodeDev/Survey-Container-Documentation/blob/main/Readme/SurveyContainer.png)

# üì¶ Survey Container

**Survey Container** es una soluci√≥n completa desarrollada como parte de una prueba t√©cnica para construir un sistema de encuestas internas modular, reutilizable y escalable.

[![Dependencia-NPM](https://img.shields.io/static/v1?message=Dependencia-NPM&logo=npm&label=&color=CB3837&logoColor=white&labelColor=&style=for-the-badge)](https://www.npmjs.com/package/survey-container)

## Una forma sencilla de integrar survey container a tu proyecto

Desde la configuraci√≥n de tu base de datos hasta la integraci√≥n en tu frontend, estos pasos te guiar√°n en todo el proceso para comenzar a usar la dependencia survey container de forma eficiente y r√°pida.

### Instala la dependencia

Crea una base de datos y Aseg√∫rate de incluir las tablas requeridas:
**Survey, Question y Response**, siguiendo la estructura definida en la documentaci√≥n.

### Prepara el backend

Agrega los archivos para gestionar m√©tricas, encuestas y respuestas:
**metrics, questions, getResponse, postResponse, create, survey**

### Instala la dependencia

Desde la terminal ejecuta:

```
npm i survey-container
```

### Evita versiones antiguas

Las versiones anteriores pueden contener errores ya corregidos. Siempre revisa el package.json y actualiza si es necesario para evitar comportamientos inesperados.


### Integra en tu componente 

Importa el paquete seg√∫n tu framework Y usa el componente con los props necesarios (surveyId, fetchUrl, responseUrl, etc.).

### ¬°Listo para usar!

Una vez configurado todo, podr√°s mostrar encuestas, recolectar respuestas y analizar m√©tricas f√°cilmente.
Disfruta de una integraci√≥n limpia, extensible y flexible.


# Integraci√≥n en el Front-End y Back-end

<details>
<summary>üé® Integraci√≥n del lado del Front-End</summary>

<details>
<summary> Props del Front </summary>

| Prop               | Tipo                               | Obligatorio | Descripci√≥n                                                                                                                                                                                                                                                                           |
| ------------------ | ---------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `surveyId`         | `string`                           | ‚úÖ S√≠        | Es el ID de la encuesta que quieres mostrar. En esta demo se obtiene desde la URL usando `useParams()`.                                                                                                                                                                               |
| `fetchUrl`         | `string`                           | ‚úÖ S√≠      | Es la URL base para hacer la solicitud **GET** y obtener los datos de la encuesta. Por ejemplo: `http://localhost:3000/api/surveys/survey.php?id=`. Se a√±adir√° autom√°ticamente el `surveyId` al final.                               |
| `responseUrl`      | `string`                           | ‚úÖ S√≠      | Es la URL donde se env√≠an las respuestas con una solicitud **POST**.                                                                                                                                          |
| `onAlert`          | `(message: string, type?: string)` | ‚ùå No        | Funci√≥n que se ejecuta para mostrar una alerta dependiendo del estado de la encuesta (error, √©xito, advertencia). Puedes personalizarla como quieras (modal, toast, etc.) |
| `apiUrl`           | `string`                           | ‚ùå No        | Si prefieres una URL base en lugar de `fetchUrl` o `responseUrl` individuales, puedes usar este prop como ra√≠z para los endpoints `/surveys` y `/responses`.                                                                                                   |
| `onSubmit`         | `(responses) => Promise<void>`     | ‚ùå No        | Si quieres manejar t√∫ mismo el env√≠o de respuestas, puedes pasar tu propia funci√≥n `onSubmit`. Si no se define, se har√° un POST autom√°ticamente a `responseUrl`.                                                                                                                      |
| `loadingText`      | `string`                           | ‚ùå No        | Texto que se muestra mientras la encuesta est√° cargando. Por defecto: `"Cargando encuesta..."`.                                                                                                                                                                                       |
| `submitButtonText` | `string`                           | ‚ùå No        | Texto del bot√≥n de env√≠o. Por defecto: `"Enviar respuestas"`.                                                                                                                                                                                                                         |
| `className`        | `string`                           | ‚ùå No        | Clase CSS personalizada para aplicar estilos adicionales al contenedor del widget.                                                                                                                                                                                                    |

</details>

<details>
<summary> Integraci√≥n con React </summary>

# Integraci√≥n con React

El componente **SurveyContainer** te permite integrar encuestas de manera sencilla dentro de tu aplicaci√≥n desarrollada con React. Con √©l, puedes mostrar formularios interactivos y personalizables sin necesidad de implementar toda la l√≥gica desde cero.

## Componente

Para utilizar el componente **SurveyWidget** de la dependencia **survey container**, primero debes importarlo en tu proyecto de React. Este componente es flexible, permitiendo usar rutas propias para obtener y guardar encuestas.

Adem√°s, puedes integrar librer√≠as de notificaciones como **react-toastify**, lo que facilita mostrar mensajes personalizados, por ejemplo:

- **Encuesta enviada con √©xito**
- **Ocurri√≥ un error al cargar la encuesta**

De esta forma, garantizas una mejor experiencia de usuario al manejar tanto confirmaciones como errores dentro de tu aplicaci√≥n.

```
import React from "react";
import { useParams } from "react-router-dom";
import { SurveyWidget } from "survey-container";

function SurveyContainer() {

  const { surveyId } = useParams();

  return (

    <div className="">
     <SurveyWidget
     surveyId={surveyId}
     fetchUrl="Ruta para obtener encuesta"
     responseUrl="Ruta para guardar respuestas"
     onAlert="Funci√≥n para mostrar alertas. Puedes usar react-toastify"
     />
    </div>

  );
}

export default SurveyContainer;
```


</details>

<details>
<summary> Integraci√≥n con Vue </summary>

</details>

<details>
<summary> Integraci√≥n con Angular </summary>

</details>

</details>



<details>
<summary>‚öôÔ∏è Integraci√≥n del lado del Back-End</summary>

<details>
<summary> Tablas de la base de datos </summary>

</details>

<details>
<summary> Integraci√≥n con PHP </summary>

</details>

<details>
<summary> Integraci√≥n con Node.JS </summary>

</details>

</details>






















